{% extends 'layout.html' %}


{% block body %}

<!--slider-->
<div class="container">
  <div class="row">
    <div class="col-sm-12">

<div id="featured-slider" class="carousel slide" data-ride="carousel">

  <!--indicators dot nav-->
  <ol class="carousel-indicators">
    <li data-target="#featured-slider" data-slide-to="0" class="active"></li>
    <li data-target="#featured-slider" data-slide-to="1"></li>
    <li data-target="#featured-slider" data-slide-to="2"></li>
    <li data-target="#featured-slider" data-slide-to="3"></li>
  </ol>
  <!--wrapper for slides-->
  
  <div class="carousel-inner" role="listbox">
      <div class="carousel-item active">
          <img src="/static/products/Ps4/ps4Pro.jpg" alt="ps4Pro">
          <div class="carousel-caption">
            <h1>Playstation 4 Pro</h1>
            <h5>Look at our Playstation-related products</h5>
          </div>
      </div>
      <div class="carousel-item">
        <img src="/static/products/Xbox/xboxone.jpg" alt="Xbox One">
          <div class="carousel-caption">
            <h1>Xbox One X</h1>
            <h5>Look at our Xbox-related products</h5>
          </div>
      </div>
      <div class="carousel-item">
          <img src="/static/products/PC/PC.jpg" alt="pc">
            <div class="carousel-caption">
              <h1>Gaming PC</h1>
              <h5>Look at our PC-related products</h5>
            </div>
         </div>
       <div class="carousel-item">
          <img src="/static/logo/enjoy-logo.jpg" alt="enjoy">
         </div>
       </div>
       
      

  <!--controls or next and prev buttons-->

  <a class="carousel-control-prev" href="#featured-slider" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#featured-slider" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
      </div>
    </div>
  </div><br>
<!--slider end-->

<hr>

<h1>Popular Items:</h1>

<div class="row" id="cards">
  <!--item cards
    
    <div class="col-lg-4 col-md-6 mb-4">
    <div class="card h-100">
      <a href="#"><img class="card-img-top" src="products/Ps4/items/ps4_controller.jpg" alt=""></a>
      <div class="card-body">
        <h4 class="card-title">
          <a href="#">PS4 Controller - Red</a>
        </h4>
        <h5>$49.99</h5>
        <p class="card-text">A red PS4 Pro Controller</p>
      </div>
      <div class="card-footer">
        <small class="text-muted">&#9733; &#9733; &#9733; &#9733; &#9733;</small>
      </div>
    </div>
  </div>
-->

</div>
<!-- /.row -->

</div>
<!-- /container -->




<script>
  
  $(document).ready(

    function () {
      
      //access items json file
      $.ajax({
        type: 'GET',
        url: 'https://api.npoint.io/3af81a627246c5206062',
      }).done(function (items){
        myhtml= ``
        var topItems = 9
        
        //display most bought items in store using bubble sort
        for(i = 0; i < topItems; i++)
        {
          for(j = i+1; j < items.length; j++)
          {
            if(items[i].boughtNum < items[j].boughtNum)
            {
              var temp = items[i]
              items[i] = items[j]
              items[j] = temp
            }
          }//end for loop j 
        myhtml +=`
                     <div class="col-lg-4 col-md-6 mb-4">
                      <div class="card h-100">
                        <a href="#"><img class="card-img-top" src="/static/${items[i].img}" alt=""></a>
                        <div class="card-body">
                          <h4 class="card-title">
                            <a href="#">${items[i].name}</a>
                          </h4>
                          <h5>$${items[i].price}</h5>
                          <p class="card-text">${items[i].description}</p>
                         </div>
                        <div class="card-footer">
                          <small class="text-muted">Rating: ${items[i].rating}/5 (${items[i].boughtNum})</small>
                        </div>
                      </div>
                     </div>`

                    if( (i+1) % 3 == 0 )
                    {
                      myhtml += `<hr>`
                    }
                    
                $("#cards").html(myhtml)
      }//end for loop i

      });//end .done(function (items){

    }// end function () {

  ) //end $(document).ready(
  
</script>

{% endblock %}

